{"ast":null,"code":"var _jsxFileName = \"C:\\\\OtpishiAI\\\\src\\\\components\\\\home\\\\Home.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport ApiService from '../../ApiService'; // ApiService 경로에 맞게 조정\n\nimport Slider from 'react-slick'; // Slick 슬라이더 임포트\n\nimport classes from './css/home.module.css'; // CSS 모듈 임포트\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const [featuredProducts, setFeaturedProducts] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const fetchProductsHandler = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      var _response$data;\n\n      const response = await ApiService.fetchProducts(); // queryString 없이 fetch\n\n      if (response.status < 200 || response.status >= 300) {\n        throw new Error('Something went wrong!');\n      }\n\n      const data = ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.content) || []; // judge가 높은 상품을 찾기\n\n      const sortedProducts = data.filter(product => product.judge !== \"NULL\") // judge가 NULL이 아닌 상품만 필터링\n      .sort((a, b) => b.judge - a.judge) // judge 기준 내림차순 정렬\n      .slice(0, 3); // 상위 3개 상품만 선택\n\n      if (sortedProducts.length < 3) {\n        setFeaturedProducts(data.slice(0, 3)); // judge가 NULL일 경우 앞의 3개 상품\n      } else {\n        setFeaturedProducts(sortedProducts);\n      }\n    } catch (err) {\n      setError(err.message || 'Failed to fetch products');\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n  useEffect(() => {\n    fetchProductsHandler();\n  }, [fetchProductsHandler]); // 캐러셀 설정\n\n  const settings = {\n    dots: true,\n    infinite: true,\n    speed: 500,\n    slidesToShow: 1,\n    slidesToScroll: 1,\n    autoplay: true,\n    autoplaySpeed: 3000\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.homeContainer,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.login,\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: './sign-in',\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"\\uB85C\\uADF8\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: './sign-up',\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"\\uD68C\\uC6D0\\uAC00\\uC785\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.banner,\n      children: [isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uB85C\\uB529 \\uC911...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 31\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 27\n      }, this), !isLoading && !error && featuredProducts.length > 0 && /*#__PURE__*/_jsxDEV(Slider, { ...settings,\n        children: featuredProducts.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.productItem,\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/products/${product.productCode}`,\n            className: classes.imageContainer,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: product.productImg[0],\n              alt: product.productName,\n              className: classes.productImage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.productName,\n            children: product.productName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 33\n          }, this), product.rprice > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.originalPrice,\n              children: [product.oprice.toLocaleString(), \" \\uC6D0\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.discountWrapper,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: classes.discountPercentage,\n                children: [Math.round((product.oprice - product.rprice) / product.oprice * 100), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: classes.salePrice,\n                children: [product.rprice.toLocaleString(), \" \\uC6D0\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.salePrice,\n            children: [product.oprice.toLocaleString(), \" \\uC6D0\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 37\n          }, this)]\n        }, product.productCode, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Home, \"ug7ODu8YnJfL+VJwb1XvEYvJjy4=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","Link","ApiService","Slider","classes","Home","featuredProducts","setFeaturedProducts","isLoading","setIsLoading","error","setError","fetchProductsHandler","response","fetchProducts","status","Error","data","content","sortedProducts","filter","product","judge","sort","a","b","slice","length","err","message","settings","dots","infinite","speed","slidesToShow","slidesToScroll","autoplay","autoplaySpeed","homeContainer","login","banner","map","productItem","productCode","imageContainer","productImg","productName","productImage","rprice","originalPrice","oprice","toLocaleString","discountWrapper","discountPercentage","Math","round","salePrice"],"sources":["C:/OtpishiAI/src/components/home/Home.jsx"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ApiService from '../../ApiService'; // ApiService 경로에 맞게 조정\r\nimport Slider from 'react-slick'; // Slick 슬라이더 임포트\r\nimport classes from './css/home.module.css'; // CSS 모듈 임포트\r\n\r\nconst Home = () => {\r\n    const [featuredProducts, setFeaturedProducts] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n\r\n    const fetchProductsHandler = useCallback(async () => {\r\n        setIsLoading(true);\r\n        setError(null);\r\n        try {\r\n            const response = await ApiService.fetchProducts(); // queryString 없이 fetch\r\n            if (response.status < 200 || response.status >= 300) {\r\n                throw new Error('Something went wrong!');\r\n            }\r\n            const data = response.data?.content || [];\r\n\r\n            // judge가 높은 상품을 찾기\r\n            const sortedProducts = data\r\n                .filter(product => product.judge !== \"NULL\") // judge가 NULL이 아닌 상품만 필터링\r\n                .sort((a, b) => b.judge - a.judge) // judge 기준 내림차순 정렬\r\n                .slice(0, 3); // 상위 3개 상품만 선택\r\n\r\n            if (sortedProducts.length < 3) {\r\n                setFeaturedProducts(data.slice(0, 3)); // judge가 NULL일 경우 앞의 3개 상품\r\n            } else {\r\n                setFeaturedProducts(sortedProducts);\r\n            }\r\n        } catch (err) {\r\n            setError(err.message || 'Failed to fetch products');\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        fetchProductsHandler();\r\n    }, [fetchProductsHandler]);\r\n\r\n    // 캐러셀 설정\r\n    const settings = {\r\n        dots: true,\r\n        infinite: true,\r\n        speed: 500,\r\n        slidesToShow: 1,\r\n        slidesToScroll: 1,\r\n        autoplay: true,\r\n        autoplaySpeed: 3000,\r\n    };\r\n\r\n    return (\r\n        <div className={classes.homeContainer}>\r\n            <div className={classes.login}>\r\n                <Link to={'./sign-in'}>\r\n                    <button>로그인</button>\r\n                </Link>\r\n                <Link to={'./sign-up'}>\r\n                    <button>회원가입</button>\r\n                </Link>\r\n            </div>\r\n\r\n            {/* 배너 섹션 */}\r\n            <div className={classes.banner}>\r\n                {isLoading && <p>로딩 중...</p>}\r\n                {error && <p>{error}</p>}\r\n                {!isLoading && !error && featuredProducts.length > 0 && (\r\n                    <Slider {...settings}>\r\n                        {featuredProducts.map(product => (\r\n                            <div key={product.productCode} className={classes.productItem}>\r\n                                <Link to={`/products/${product.productCode}`} className={classes.imageContainer}>\r\n                                    <img src={product.productImg[0]} alt={product.productName} className={classes.productImage} />\r\n                                </Link>\r\n                                <div className={classes.productName}>{product.productName}</div>\r\n                                {product.rprice > 0 ? (\r\n                                    <>\r\n                                        <div className={classes.originalPrice}>\r\n                                            {product.oprice.toLocaleString()} 원\r\n                                        </div>\r\n                                        <div className={classes.discountWrapper}>\r\n                                            <span className={classes.discountPercentage}>\r\n                                                {Math.round(((product.oprice - product.rprice) / product.oprice) * 100)}%\r\n                                            </span>\r\n                                            <span className={classes.salePrice}>{product.rprice.toLocaleString()} 원</span>\r\n                                        </div>\r\n                                    </>\r\n                                ) : (\r\n                                    <div className={classes.salePrice}>{product.oprice.toLocaleString()} 원</div>\r\n                                )}\r\n                            </div>\r\n                        ))}\r\n                    </Slider>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,WAArC,QAAwD,OAAxD;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,UAAP,MAAuB,kBAAvB,C,CAA2C;;AAC3C,OAAOC,MAAP,MAAmB,aAAnB,C,CAAkC;;AAClC,OAAOC,OAAP,MAAoB,uBAApB,C,CAA6C;;;;;AAE7C,MAAMC,IAAI,GAAG,MAAM;EAAA;;EACf,MAAM,CAACC,gBAAD,EAAmBC,mBAAnB,IAA0CR,QAAQ,CAAC,EAAD,CAAxD;EACA,MAAM,CAACS,SAAD,EAAYC,YAAZ,IAA4BV,QAAQ,CAAC,KAAD,CAA1C;EACA,MAAM,CAACW,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,IAAD,CAAlC;EAEA,MAAMa,oBAAoB,GAAGZ,WAAW,CAAC,YAAY;IACjDS,YAAY,CAAC,IAAD,CAAZ;IACAE,QAAQ,CAAC,IAAD,CAAR;;IACA,IAAI;MAAA;;MACA,MAAME,QAAQ,GAAG,MAAMX,UAAU,CAACY,aAAX,EAAvB,CADA,CACmD;;MACnD,IAAID,QAAQ,CAACE,MAAT,GAAkB,GAAlB,IAAyBF,QAAQ,CAACE,MAAT,IAAmB,GAAhD,EAAqD;QACjD,MAAM,IAAIC,KAAJ,CAAU,uBAAV,CAAN;MACH;;MACD,MAAMC,IAAI,GAAG,mBAAAJ,QAAQ,CAACI,IAAT,kEAAeC,OAAf,KAA0B,EAAvC,CALA,CAOA;;MACA,MAAMC,cAAc,GAAGF,IAAI,CACtBG,MADkB,CACXC,OAAO,IAAIA,OAAO,CAACC,KAAR,KAAkB,MADlB,EAC0B;MAD1B,CAElBC,IAFkB,CAEb,CAACC,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAACH,KAAF,GAAUE,CAAC,CAACF,KAFT,EAEgB;MAFhB,CAGlBI,KAHkB,CAGZ,CAHY,EAGT,CAHS,CAAvB,CARA,CAWkB;;MAElB,IAAIP,cAAc,CAACQ,MAAf,GAAwB,CAA5B,EAA+B;QAC3BpB,mBAAmB,CAACU,IAAI,CAACS,KAAL,CAAW,CAAX,EAAc,CAAd,CAAD,CAAnB,CAD2B,CACY;MAC1C,CAFD,MAEO;QACHnB,mBAAmB,CAACY,cAAD,CAAnB;MACH;IACJ,CAlBD,CAkBE,OAAOS,GAAP,EAAY;MACVjB,QAAQ,CAACiB,GAAG,CAACC,OAAJ,IAAe,0BAAhB,CAAR;IACH,CApBD,SAoBU;MACNpB,YAAY,CAAC,KAAD,CAAZ;IACH;EACJ,CA1BuC,EA0BrC,EA1BqC,CAAxC;EA4BAX,SAAS,CAAC,MAAM;IACZc,oBAAoB;EACvB,CAFQ,EAEN,CAACA,oBAAD,CAFM,CAAT,CAjCe,CAqCf;;EACA,MAAMkB,QAAQ,GAAG;IACbC,IAAI,EAAE,IADO;IAEbC,QAAQ,EAAE,IAFG;IAGbC,KAAK,EAAE,GAHM;IAIbC,YAAY,EAAE,CAJD;IAKbC,cAAc,EAAE,CALH;IAMbC,QAAQ,EAAE,IANG;IAObC,aAAa,EAAE;EAPF,CAAjB;EAUA,oBACI;IAAK,SAAS,EAAEjC,OAAO,CAACkC,aAAxB;IAAA,wBACI;MAAK,SAAS,EAAElC,OAAO,CAACmC,KAAxB;MAAA,wBACI,QAAC,IAAD;QAAM,EAAE,EAAE,WAAV;QAAA,uBACI;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QADJ,eAII,QAAC,IAAD;QAAM,EAAE,EAAE,WAAV;QAAA,uBACI;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QAJJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAWI;MAAK,SAAS,EAAEnC,OAAO,CAACoC,MAAxB;MAAA,WACKhC,SAAS,iBAAI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADlB,EAEKE,KAAK,iBAAI;QAAA,UAAIA;MAAJ;QAAA;QAAA;QAAA;MAAA,QAFd,EAGK,CAACF,SAAD,IAAc,CAACE,KAAf,IAAwBJ,gBAAgB,CAACqB,MAAjB,GAA0B,CAAlD,iBACG,QAAC,MAAD,OAAYG,QAAZ;QAAA,UACKxB,gBAAgB,CAACmC,GAAjB,CAAqBpB,OAAO,iBACzB;UAA+B,SAAS,EAAEjB,OAAO,CAACsC,WAAlD;UAAA,wBACI,QAAC,IAAD;YAAM,EAAE,EAAG,aAAYrB,OAAO,CAACsB,WAAY,EAA3C;YAA8C,SAAS,EAAEvC,OAAO,CAACwC,cAAjE;YAAA,uBACI;cAAK,GAAG,EAAEvB,OAAO,CAACwB,UAAR,CAAmB,CAAnB,CAAV;cAAiC,GAAG,EAAExB,OAAO,CAACyB,WAA9C;cAA2D,SAAS,EAAE1C,OAAO,CAAC2C;YAA9E;cAAA;cAAA;cAAA;YAAA;UADJ;YAAA;YAAA;YAAA;UAAA,QADJ,eAII;YAAK,SAAS,EAAE3C,OAAO,CAAC0C,WAAxB;YAAA,UAAsCzB,OAAO,CAACyB;UAA9C;YAAA;YAAA;YAAA;UAAA,QAJJ,EAKKzB,OAAO,CAAC2B,MAAR,GAAiB,CAAjB,gBACG;YAAA,wBACI;cAAK,SAAS,EAAE5C,OAAO,CAAC6C,aAAxB;cAAA,WACK5B,OAAO,CAAC6B,MAAR,CAAeC,cAAf,EADL;YAAA;cAAA;cAAA;cAAA;YAAA,QADJ,eAII;cAAK,SAAS,EAAE/C,OAAO,CAACgD,eAAxB;cAAA,wBACI;gBAAM,SAAS,EAAEhD,OAAO,CAACiD,kBAAzB;gBAAA,WACKC,IAAI,CAACC,KAAL,CAAY,CAAClC,OAAO,CAAC6B,MAAR,GAAiB7B,OAAO,CAAC2B,MAA1B,IAAoC3B,OAAO,CAAC6B,MAA7C,GAAuD,GAAlE,CADL;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QADJ,eAII;gBAAM,SAAS,EAAE9C,OAAO,CAACoD,SAAzB;gBAAA,WAAqCnC,OAAO,CAAC2B,MAAR,CAAeG,cAAf,EAArC;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAJJ;YAAA;cAAA;cAAA;cAAA;YAAA,QAJJ;UAAA,gBADH,gBAaG;YAAK,SAAS,EAAE/C,OAAO,CAACoD,SAAxB;YAAA,WAAoCnC,OAAO,CAAC6B,MAAR,CAAeC,cAAf,EAApC;UAAA;YAAA;YAAA;YAAA;UAAA,QAlBR;QAAA,GAAU9B,OAAO,CAACsB,WAAlB;UAAA;UAAA;UAAA;QAAA,QADH;MADL;QAAA;QAAA;QAAA;MAAA,QAJR;IAAA;MAAA;MAAA;MAAA;IAAA,QAXJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AA6CH,CA7FD;;GAAMtC,I;;KAAAA,I;AA+FN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}