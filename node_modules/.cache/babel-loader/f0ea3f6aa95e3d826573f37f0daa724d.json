{"ast":null,"code":"var _jsxFileName = \"C:\\\\OtpishiAI\\\\front-end\\\\src\\\\components\\\\product\\\\meals\\\\AvailableMeals.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext, useCallback } from \"react\";\nimport MealItem from \"./mealItem/MealItem\";\nimport Card from \"../UI/Card\";\nimport classes from \"./css/AvailableMeals.module.css\";\nimport AuthContext from \"../../../store/auth-context\";\nimport ApiService from \"../../../ApiService\";\nimport DUMMY_MEALS from './DUMMY_JSON.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AvailableMeals = () => {\n  _s();\n\n  const ctx = useContext(AuthContext);\n  const [products, setProducts] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const fetchProductsHandler = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      var _response$data;\n\n      const response = await ApiService.fetchProducts();\n\n      if (response.status < 200 || response.status > 299) {\n        throw new Error(\"Something went wrong!\");\n      }\n\n      const data = await ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.content);\n      setProducts(data);\n    } catch (error) {\n      setError(error.message);\n    }\n\n    setIsLoading(false);\n  }, []);\n  useEffect(() => {\n    fetchProductsHandler();\n    ctx.setCurrentPage(\"prod-list\");\n  }, [fetchProductsHandler]);\n\n  if (products.length <= 0) {\n    return /*#__PURE__*/_jsxDEV(Card, {\n      className: classes.meals,\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD604\\uC7AC \\uC0C1\\uD488 \\uBAA9\\uB85D\\uC774 \\uBE44\\uC5B4\\uC788\\uC2B5\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 4\n    }, this);\n  }\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Card, {\n      className: classes.meals,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 4\n    }, this);\n  }\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Card, {\n      className: classes.meals,\n      children: [/*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 5\n      }, this), \";\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 4\n    }, this);\n  }\n\n  const productsList = products === null || products === void 0 ? void 0 : products.map(product => /*#__PURE__*/_jsxDEV(MealItem, {\n    id: product.product_code,\n    name: product.product_name,\n    genre: product.genre_code,\n    img: product.product_img_0,\n    price: product.O_price\n  }, product.product_num, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 3\n  }, this));\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: classes.meals,\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: productsList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AvailableMeals, \"W4OMV+Wpwa92ZhVWpxvg4vnrMvA=\");\n\n_c = AvailableMeals;\nexport default AvailableMeals;\n\nvar _c;\n\n$RefreshReg$(_c, \"AvailableMeals\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useCallback","MealItem","Card","classes","AuthContext","ApiService","DUMMY_MEALS","AvailableMeals","ctx","products","setProducts","isLoading","setIsLoading","error","setError","fetchProductsHandler","response","fetchProducts","status","Error","data","content","message","setCurrentPage","length","meals","productsList","map","product","product_code","product_name","genre_code","product_img_0","O_price","product_num"],"sources":["C:/OtpishiAI/front-end/src/components/product/meals/AvailableMeals.js"],"sourcesContent":["import React, { useState, useEffect, useContext, useCallback } from \"react\";\r\nimport MealItem from \"./mealItem/MealItem\";\r\nimport Card from \"../UI/Card\";\r\nimport classes from \"./css/AvailableMeals.module.css\";\r\nimport AuthContext from \"../../../store/auth-context\";\r\nimport ApiService from \"../../../ApiService\";\r\nimport DUMMY_MEALS from './DUMMY_JSON.json';\r\n\r\nconst AvailableMeals = () => {\r\n  const ctx = useContext(AuthContext);\r\n\r\n  const [products, setProducts] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchProductsHandler = useCallback(async () => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n    try {\r\n      const response = await ApiService.fetchProducts();\r\n      if (response.status < 200 || response.status > 299) {\r\n        throw new Error(\"Something went wrong!\");\r\n      }\r\n\t\t\tconst data = await response.data?.content;\r\n      setProducts(data);\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n    setIsLoading(false);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchProductsHandler();\r\n    ctx.setCurrentPage(\"prod-list\");\r\n  }, [fetchProductsHandler]);\r\n\r\n  if (products.length <= 0) {\r\n\t\treturn (\r\n\t\t\t<Card className={classes.meals}>\r\n\t\t\t\t<h2>현재 상품 목록이 비어있습니다.</h2>\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n\r\n  if (error) {\r\n\t\treturn (\r\n\t\t\t<Card className={classes.meals}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>{error}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</Card>\r\n\t\t);\r\n  }\r\n  if (isLoading) {\r\n\t\treturn (\r\n\t\t\t<Card className={classes.meals}>\r\n\t\t\t\t<Loading />;\r\n\t\t\t</Card>\r\n\t\t);\r\n  }\r\n\r\n\tconst productsList = products?.map((product) => (\r\n\t\t<MealItem\r\n\t\t\tid={product.product_code}\r\n\t\t\tkey={product.product_num}\r\n\t\t\tname={product.product_name}\r\n\t\t\tgenre={product.genre_code}\r\n\t\t\timg={product.product_img_0}\r\n\t\t\tprice={product.O_price}\r\n\t\t/>\r\n\t));\r\n\r\n  return (\r\n    <Card className={classes.meals}>\r\n      <ul>{productsList}</ul>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default AvailableMeals;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}