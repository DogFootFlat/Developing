{"ast":null,"code":"var _jsxFileName = \"C:\\\\OtpishiAI\\\\front-end\\\\src\\\\components\\\\product\\\\meals\\\\AvailableMeals.js\",\n    _s = $RefreshSig$();\n\nimport { useCallback, useContext, useState } from \"react\";\nimport MealItem from \"./mealItem/MealItem\";\nimport Card from \"../UI/Card\";\nimport classes from \"./css/AvailableMeals.module.css\";\nimport DUMMY_MEALS from './DUMMY_JSON.json';\nimport AuthContext from \"../../../store/auth-context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AvailableMeals = () => {\n  _s();\n\n  const ctx = useContext(AuthContext);\n  const [products, setProducts] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const fetchProductsHandler = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const response = await ApiService.fetchProducts();\n\n      if (response.status < 200 || response.status > 299) {\n        throw new Error(\"Something went wrong!\");\n      }\n\n      const data = await response.content;\n      setProducts(data);\n    } catch (error) {\n      setError(error.message);\n    }\n\n    setIsLoading(false);\n  }, []);\n  useEffect(() => {\n    fetchProductsHandler();\n    ctx.setCurrentPage(\"prod-list\");\n  }, [fetchProductsHandler]);\n  console.log(products);\n  const productsList = products.map(product => /*#__PURE__*/_jsxDEV(MealItem, {\n    id: product.product_code,\n    name: product.product_name,\n    genre: product.genre_code,\n    img: product.product_img_0,\n    price: product.O_price\n  }, product.product_num, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this));\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: classes.meals,\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: productsList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AvailableMeals, \"W4OMV+Wpwa92ZhVWpxvg4vnrMvA=\");\n\n_c = AvailableMeals;\nexport default AvailableMeals;\n\nvar _c;\n\n$RefreshReg$(_c, \"AvailableMeals\");","map":{"version":3,"names":["useCallback","useContext","useState","MealItem","Card","classes","DUMMY_MEALS","AuthContext","AvailableMeals","ctx","products","setProducts","isLoading","setIsLoading","error","setError","fetchProductsHandler","response","ApiService","fetchProducts","status","Error","data","content","message","useEffect","setCurrentPage","console","log","productsList","map","product","product_code","product_name","genre_code","product_img_0","O_price","product_num","meals"],"sources":["C:/OtpishiAI/front-end/src/components/product/meals/AvailableMeals.js"],"sourcesContent":["import { useCallback, useContext, useState } from \"react\";\r\nimport MealItem from \"./mealItem/MealItem\";\r\nimport Card from \"../UI/Card\";\r\nimport classes from \"./css/AvailableMeals.module.css\";\r\nimport DUMMY_MEALS from './DUMMY_JSON.json';\r\nimport AuthContext from \"../../../store/auth-context\";\r\n\r\nconst AvailableMeals = () => {\r\n  const ctx = useContext(AuthContext);\r\n\r\n  const [products, setProducts] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchProductsHandler = useCallback(async () => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n    try {\r\n      const response = await ApiService.fetchProducts();\r\n      if (response.status < 200 || response.status > 299) {\r\n        throw new Error(\"Something went wrong!\");\r\n      }\r\n      const data = await response.content;\r\n      setProducts(data);\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n    setIsLoading(false);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchProductsHandler();\r\n    ctx.setCurrentPage(\"prod-list\");\r\n  }, [fetchProductsHandler]);\r\n\r\n\tconsole.log(products);\r\n\r\n  const productsList = products.map((product) => (\r\n    <MealItem\r\n      id={product.product_code}\r\n      key={product.product_num}\r\n      name={product.product_name}\r\n      genre={product.genre_code}\r\n\t\t\timg={product.product_img_0}\r\n      price={product.O_price}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <Card className={classes.meals}>\r\n      <ul>{productsList}</ul>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default AvailableMeals;\r\n"],"mappings":";;;AAAA,SAASA,WAAT,EAAsBC,UAAtB,EAAkCC,QAAlC,QAAkD,OAAlD;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAOC,OAAP,MAAoB,iCAApB;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,OAAOC,WAAP,MAAwB,6BAAxB;;;AAEA,MAAMC,cAAc,GAAG,MAAM;EAAA;;EAC3B,MAAMC,GAAG,GAAGR,UAAU,CAACM,WAAD,CAAtB;EAEA,MAAM,CAACG,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACU,SAAD,EAAYC,YAAZ,IAA4BX,QAAQ,CAAC,KAAD,CAA1C;EACA,MAAM,CAACY,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC,IAAD,CAAlC;EAEA,MAAMc,oBAAoB,GAAGhB,WAAW,CAAC,YAAY;IACnDa,YAAY,CAAC,IAAD,CAAZ;IACAE,QAAQ,CAAC,IAAD,CAAR;;IACA,IAAI;MACF,MAAME,QAAQ,GAAG,MAAMC,UAAU,CAACC,aAAX,EAAvB;;MACA,IAAIF,QAAQ,CAACG,MAAT,GAAkB,GAAlB,IAAyBH,QAAQ,CAACG,MAAT,GAAkB,GAA/C,EAAoD;QAClD,MAAM,IAAIC,KAAJ,CAAU,uBAAV,CAAN;MACD;;MACD,MAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,OAA5B;MACAZ,WAAW,CAACW,IAAD,CAAX;IACD,CAPD,CAOE,OAAOR,KAAP,EAAc;MACdC,QAAQ,CAACD,KAAK,CAACU,OAAP,CAAR;IACD;;IACDX,YAAY,CAAC,KAAD,CAAZ;EACD,CAduC,EAcrC,EAdqC,CAAxC;EAgBAY,SAAS,CAAC,MAAM;IACdT,oBAAoB;IACpBP,GAAG,CAACiB,cAAJ,CAAmB,WAAnB;EACD,CAHQ,EAGN,CAACV,oBAAD,CAHM,CAAT;EAKDW,OAAO,CAACC,GAAR,CAAYlB,QAAZ;EAEC,MAAMmB,YAAY,GAAGnB,QAAQ,CAACoB,GAAT,CAAcC,OAAD,iBAChC,QAAC,QAAD;IACE,EAAE,EAAEA,OAAO,CAACC,YADd;IAGE,IAAI,EAAED,OAAO,CAACE,YAHhB;IAIE,KAAK,EAAEF,OAAO,CAACG,UAJjB;IAKD,GAAG,EAAEH,OAAO,CAACI,aALZ;IAME,KAAK,EAAEJ,OAAO,CAACK;EANjB,GAEOL,OAAO,CAACM,WAFf;IAAA;IAAA;IAAA;EAAA,QADmB,CAArB;EAWA,oBACE,QAAC,IAAD;IAAM,SAAS,EAAEhC,OAAO,CAACiC,KAAzB;IAAA,uBACE;MAAA,UAAKT;IAAL;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAKD,CA9CD;;GAAMrB,c;;KAAAA,c;AAgDN,eAAeA,cAAf"},"metadata":{},"sourceType":"module"}