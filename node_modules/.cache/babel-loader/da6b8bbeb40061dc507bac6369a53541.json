{"ast":null,"code":"import _regeneratorRuntime from\"C:/OtpishiAI/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/OtpishiAI/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/OtpishiAI/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import styles from'./css/ProductDetail.module.css';import ApiService from'../../../../ApiService';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductDetail=function ProductDetail(){var _useParams=useParams(),productNum=_useParams.productNum;// URL 파라미터에서 productNum 가져오기\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){var fetchProductDetails=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return ApiService.fetchProductByNum(productNum);case 3:response=_context.sent;data=response.data;setProduct(data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching product details:\",_context.t0);case 11:_context.prev=11;setLoading(false);return _context.finish(11);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,8,11,14]]);}));return function fetchProductDetails(){return _ref.apply(this,arguments);};}();fetchProductDetails();},[productNum]);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(!product){return/*#__PURE__*/_jsx(\"div\",{children:\"\\uC0C1\\uD488\\uC744 \\uCC3E\\uC744 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"});}return/*#__PURE__*/_jsxs(\"div\",{className:styles.productDetail,children:[/*#__PURE__*/_jsx(\"h1\",{className:styles.productName,children:product.productName}),/*#__PURE__*/_jsx(\"div\",{className:styles.productImageGallery,children:product.productImg.map(function(img,index){return/*#__PURE__*/_jsx(\"img\",{src:img,alt:product.productName,className:styles.productImage},index);})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.productInfo,children:[/*#__PURE__*/_jsxs(\"p\",{className:styles.price,children:[\"\\uAC00\\uACA9: \",/*#__PURE__*/_jsxs(\"span\",{className:styles.originalPrice,children:[product.oprice,\" \\uC6D0\"]}),product.rprice<product.oprice&&/*#__PURE__*/_jsxs(\"span\",{className:styles.discountPrice,children:[\" \\uD560\\uC778: \",product.rprice,\" \\uC6D0\"]})]}),/*#__PURE__*/_jsxs(\"p\",{className:styles.brand,children:[\"\\uBE0C\\uB79C\\uB4DC: \",product.productBrand]}),/*#__PURE__*/_jsxs(\"p\",{className:styles.category,children:[\"\\uCE74\\uD14C\\uACE0\\uB9AC: \",product.category.join(', ')]})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.productDetails,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uC0C1\\uC138 \\uC815\\uBCF4\"}),/*#__PURE__*/_jsx(\"ul\",{children:product.productDetails.map(function(detail,index){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uC0C9\\uC0C1:\"}),\" \",detail.productSize,\", \\uC7AC\\uACE0: \",detail.productInven,\"\\uAC1C\"]},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.reviews,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uB9AC\\uBDF0\"}),product.reviews.length>0?product.reviews.map(function(review){return/*#__PURE__*/_jsxs(\"div\",{className:styles.review,children:[/*#__PURE__*/_jsx(\"h3\",{children:review.reviewTitle}),/*#__PURE__*/_jsx(\"p\",{children:review.reviewContent})]},review.reviewNum);}):/*#__PURE__*/_jsx(\"p\",{children:\"\\uC544\\uC9C1 \\uC791\\uC131\\uB41C \\uB9AC\\uBDF0\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"})]})]});};export default ProductDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","styles","ApiService","ProductDetail","productNum","product","setProduct","loading","setLoading","fetchProductDetails","fetchProductByNum","response","data","console","error","productDetail","productName","productImageGallery","productImg","map","img","index","productImage","productInfo","price","originalPrice","oprice","rprice","discountPrice","brand","productBrand","category","join","productDetails","detail","productSize","productInven","reviews","length","review","reviewTitle","reviewContent","reviewNum"],"sources":["C:/OtpishiAI/src/components/product/products/productItem/ProductDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport styles from './css/ProductDetail.module.css';\r\nimport ApiService from '../../../../ApiService';\r\n\r\nconst ProductDetail = () => {\r\n    const { productNum } = useParams(); // URL 파라미터에서 productNum 가져오기\r\n    const [product, setProduct] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const fetchProductDetails = async () => {\r\n            try {\r\n                const response = await ApiService.fetchProductByNum(productNum);\r\n                const data = response.data;\r\n                setProduct(data);\r\n            } catch (error) {\r\n                console.error(\"Error fetching product details:\", error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchProductDetails();\r\n    }, [productNum]);\r\n\r\n    if (loading) {\r\n        return <div>Loading...</div>;\r\n    }\r\n\r\n    if (!product) {\r\n        return <div>상품을 찾을 수 없습니다.</div>;\r\n    }\r\n\r\n    return (\r\n        <div className={styles.productDetail}>\r\n            <h1 className={styles.productName}>{product.productName}</h1>\r\n            <div className={styles.productImageGallery}>\r\n                {product.productImg.map((img, index) => (\r\n                    <img key={index} src={img} alt={product.productName} className={styles.productImage} />\r\n                ))}\r\n            </div>\r\n            <div className={styles.productInfo}>\r\n                <p className={styles.price}>\r\n                    가격: <span className={styles.originalPrice}>{product.oprice} 원</span>\r\n                    {product.rprice < product.oprice && (\r\n                        <span className={styles.discountPrice}> 할인: {product.rprice} 원</span>\r\n                    )}\r\n                </p>\r\n                <p className={styles.brand}>브랜드: {product.productBrand}</p>\r\n                <p className={styles.category}>카테고리: {product.category.join(', ')}</p>\r\n            </div>\r\n            <div className={styles.productDetails}>\r\n                <h2>상세 정보</h2>\r\n                <ul>\r\n                    {product.productDetails.map((detail, index) => (\r\n                        <li key={index}>\r\n                            <strong>색상:</strong> {detail.productSize}, 재고: {detail.productInven}개\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            </div>\r\n            <div className={styles.reviews}>\r\n                <h2>리뷰</h2>\r\n                {product.reviews.length > 0 ? (\r\n                    product.reviews.map((review) => (\r\n                        <div key={review.reviewNum} className={styles.review}>\r\n                            <h3>{review.reviewTitle}</h3>\r\n                            <p>{review.reviewContent}</p>\r\n                        </div>\r\n                    ))\r\n                ) : (\r\n                    <p>아직 작성된 리뷰가 없습니다.</p>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductDetail;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}