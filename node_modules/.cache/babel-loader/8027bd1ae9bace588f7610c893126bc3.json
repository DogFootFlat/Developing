{"ast":null,"code":"import _regeneratorRuntime from\"C:/OtpishiAI/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/OtpishiAI/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/OtpishiAI/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button}from'@mui/material';// MUI Button for consistent theming\nimport React,{useEffect,useState}from'react';import{useNavigate,useParams}from'react-router-dom';import ApiService from'../../../../ApiService';import styles from'./css/ProductDetail.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductDetail=function ProductDetail(){var _useParams=useParams(),productNum=_useParams.productNum;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var navigate=useNavigate();useEffect(function(){var fetchProductDetails=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return ApiService.fetchProductByNum(productNum);case 3:response=_context.sent;data=response.data;setProduct(data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching product details:\",_context.t0);case 11:_context.prev=11;setLoading(false);return _context.finish(11);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,8,11,14]]);}));return function fetchProductDetails(){return _ref.apply(this,arguments);};}();fetchProductDetails();},[productNum]);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(!product){return/*#__PURE__*/_jsx(\"div\",{children:\"\\uC0C1\\uD488\\uC744 \\uCC3E\\uC744 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"});}// Calculate the discount percentage\nvar getDiscountPercentage=function getDiscountPercentage(originalPrice,discountedPrice){if(originalPrice>discountedPrice&&discountedPrice!==0){return Math.round((originalPrice-discountedPrice)/originalPrice*100);}return 0;// No discount\n};var discountPercentage=getDiscountPercentage(product.oprice,product.rprice);return/*#__PURE__*/_jsxs(\"div\",{className:styles.productDetail,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.productHeader,children:/*#__PURE__*/_jsx(\"button\",{className:styles.backButton,onClick:function onClick(){return navigate('/prod-list');},children:\"\\u2190 \\uC0C1\\uD488 \\uBAA9\\uB85D\"})}),/*#__PURE__*/_jsx(\"div\",{className:styles.carouselContainer,children:/*#__PURE__*/_jsx(\"div\",{className:styles.productCarousel,children:product.productImg.map(function(img,index){return/*#__PURE__*/_jsx(\"img\",{src:img,alt:product.productName,className:styles.productImage},index);})})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.productInfo,children:[/*#__PURE__*/_jsx(\"h1\",{className:styles.productName,children:product.productName}),/*#__PURE__*/_jsxs(\"p\",{className:styles.reviewLink,children:[\"\\uB9AC\\uBDF0 \\uBC14\\uB85C\\uAC00\\uAE30 (\",product.review,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:styles.price,children:product.rprice>0&&product.rprice<product.oprice?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{className:styles.originalPrice,children:[product.oprice,\" \\uC6D0\"]}),/*#__PURE__*/_jsxs(\"span\",{className:styles.discountPrice,children:[\"\\uD560\\uC778\\uAC00: \",product.rprice,\" \\uC6D0\"]}),/*#__PURE__*/_jsxs(\"span\",{className:styles.discountPercentage,children:[\"(-\",discountPercentage,\"%)\"]})]}):/*#__PURE__*/_jsxs(\"span\",{className:styles.discountPrice,children:[product.oprice,\" \\uC6D0\"]})}),/*#__PURE__*/_jsxs(\"p\",{className:styles.brand,children:[\"\\uBE0C\\uB79C\\uB4DC: \",product.productBrand]}),/*#__PURE__*/_jsxs(\"p\",{className:styles.category,children:[\"\\uCE74\\uD14C\\uACE0\\uB9AC: \",product.category.join(', ')]})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.footer,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.starRating,children:\"\\u2B50 4.5/5\"}),/*#__PURE__*/_jsx(Button,{className:styles.favoriteButton,variant:\"outlined\",color:\"primary\",children:\"\\uAD00\\uC2EC\\uC0C1\\uD488 \\uB4F1\\uB85D\"}),/*#__PURE__*/_jsx(Button,{className:styles.buyButton,variant:\"contained\",color:\"primary\",children:\"\\uAD6C\\uB9E4\\uD558\\uAE30\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.navbar,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.navItem,children:\"\\uC0C1\\uD488 \\uC815\\uBCF4\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.navItem,children:\"\\uB9AC\\uBDF0\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.navItem,children:\"\\uCD94\\uCC9C\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.navItem,children:\"\\uBB38\\uC758\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.productDetails,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uC0C1\\uC138 \\uC815\\uBCF4\"}),/*#__PURE__*/_jsx(\"ul\",{children:product.productDetails.map(function(detail,index){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uC0AC\\uC774\\uC988:\"}),\" \",detail.productSize,\", \\uC7AC\\uACE0: \",detail.productInven,\"\\uAC1C\"]},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.reviews,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uB9AC\\uBDF0\"}),product.reviews.length>0?product.reviews.map(function(review){return/*#__PURE__*/_jsxs(\"div\",{className:styles.review,children:[/*#__PURE__*/_jsx(\"h3\",{children:review.reviewTitle}),/*#__PURE__*/_jsx(\"p\",{children:review.reviewContent})]},review.reviewNum);}):/*#__PURE__*/_jsx(\"p\",{children:\"\\uC544\\uC9C1 \\uC791\\uC131\\uB41C \\uB9AC\\uBDF0\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"})]})]});};export default ProductDetail;","map":{"version":3,"names":["Button","React","useEffect","useState","useNavigate","useParams","ApiService","styles","ProductDetail","productNum","product","setProduct","loading","setLoading","navigate","fetchProductDetails","fetchProductByNum","response","data","console","error","getDiscountPercentage","originalPrice","discountedPrice","Math","round","discountPercentage","oprice","rprice","productDetail","productHeader","backButton","carouselContainer","productCarousel","productImg","map","img","index","productName","productImage","productInfo","reviewLink","review","price","discountPrice","brand","productBrand","category","join","footer","starRating","favoriteButton","buyButton","navbar","navItem","productDetails","detail","productSize","productInven","reviews","length","reviewTitle","reviewContent","reviewNum"],"sources":["C:/OtpishiAI/src/components/product/products/productItem/ProductDetail.js"],"sourcesContent":["import { Button } from '@mui/material'; // MUI Button for consistent theming\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport ApiService from '../../../../ApiService';\r\nimport styles from './css/ProductDetail.module.css';\r\n\r\nconst ProductDetail = () => {\r\n    const { productNum } = useParams();\r\n    const [product, setProduct] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        const fetchProductDetails = async () => {\r\n            try {\r\n                const response = await ApiService.fetchProductByNum(productNum);\r\n                const data = response.data;\r\n                setProduct(data);\r\n            } catch (error) {\r\n                console.error(\"Error fetching product details:\", error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchProductDetails();\r\n    }, [productNum]);\r\n\r\n    if (loading) {\r\n        return <div>Loading...</div>;\r\n    }\r\n\r\n    if (!product) {\r\n        return <div>상품을 찾을 수 없습니다.</div>;\r\n    }\r\n\r\n    // Calculate the discount percentage\r\n    const getDiscountPercentage = (originalPrice, discountedPrice) => {\r\n        if (originalPrice > discountedPrice && discountedPrice !== 0) {\r\n            return Math.round(((originalPrice - discountedPrice) / originalPrice) * 100);\r\n        }\r\n        return 0; // No discount\r\n    };\r\n\r\n    const discountPercentage = getDiscountPercentage(product.oprice, product.rprice);\r\n\r\n    return (\r\n        <div className={styles.productDetail}>\r\n            {/* Header */}\r\n            <div className={styles.productHeader}>\r\n                <button className={styles.backButton} onClick={() => navigate('/prod-list')}>\r\n                    ← 상품 목록\r\n                </button>\r\n            </div>\r\n\r\n            {/* Image Carousel */}\r\n            <div className={styles.carouselContainer}>\r\n                <div className={styles.productCarousel}>\r\n                    {product.productImg.map((img, index) => (\r\n                        <img key={index} src={img} alt={product.productName} className={styles.productImage} />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Product Information */}\r\n            <div className={styles.productInfo}>\r\n                <h1 className={styles.productName}>{product.productName}</h1>\r\n                <p className={styles.reviewLink}>리뷰 바로가기 ({product.review})</p>\r\n\r\n                <div className={styles.price}>\r\n                    {product.rprice > 0 && product.rprice < product.oprice ? (\r\n                        <>\r\n                            <span className={styles.originalPrice}>\r\n                                {product.oprice} 원\r\n                            </span>\r\n                            <span className={styles.discountPrice}>할인가: {product.rprice} 원</span>\r\n                            <span className={styles.discountPercentage}>(-{discountPercentage}%)</span>\r\n                        </>\r\n                    ) :\r\n                        <span className={styles.discountPrice}>\r\n                            {product.oprice} 원\r\n                        </span>\r\n                    }\r\n                </div>\r\n\r\n                <p className={styles.brand}>브랜드: {product.productBrand}</p>\r\n                <p className={styles.category}>카테고리: {product.category.join(', ')}</p>\r\n            </div>\r\n\r\n            {/* Footer (fixed at the bottom) */}\r\n            <div className={styles.footer}>\r\n                <div className={styles.starRating}>⭐ 4.5/5</div>\r\n                <Button className={styles.favoriteButton} variant=\"outlined\" color=\"primary\">\r\n                    관심상품 등록\r\n                </Button>\r\n                <Button className={styles.buyButton} variant=\"contained\" color=\"primary\">\r\n                    구매하기\r\n                </Button>\r\n            </div>\r\n\r\n            {/* Sticky Navigation Bar */}\r\n            <div className={styles.navbar}>\r\n                <div className={styles.navItem}>상품 정보</div>\r\n                <div className={styles.navItem}>리뷰</div>\r\n                <div className={styles.navItem}>추천</div>\r\n                <div className={styles.navItem}>문의</div>\r\n            </div>\r\n\r\n            {/* Product Details */}\r\n            <div className={styles.productDetails}>\r\n                <h2>상세 정보</h2>\r\n                <ul>\r\n                    {product.productDetails.map((detail, index) => (\r\n                        <li key={index}>\r\n                            <strong>사이즈:</strong> {detail.productSize}, 재고: {detail.productInven}개\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            </div>\r\n\r\n            {/* Reviews */}\r\n            <div className={styles.reviews}>\r\n                <h2>리뷰</h2>\r\n                {product.reviews.length > 0 ? (\r\n                    product.reviews.map((review) => (\r\n                        <div key={review.reviewNum} className={styles.review}>\r\n                            <h3>{review.reviewTitle}</h3>\r\n                            <p>{review.reviewContent}</p>\r\n                        </div>\r\n                    ))\r\n                ) : (\r\n                    <p>아직 작성된 리뷰가 없습니다.</p>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductDetail;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}