{"ast":null,"code":"import _regeneratorRuntime from\"C:/OtpishiAI/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/OtpishiAI/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/OtpishiAI/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';// useParams 가져오기\nimport styles from'./css/ProductDetail.module.css';import ApiService from'../../../../ApiService';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductDetail=function ProductDetail(){var _useParams=useParams(),productNum=_useParams.productNum;// URL 파라미터에서 productNum 가져오기\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){var fetchProductDetails=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return ApiService.fetchProductByNum(productNum);case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;setProduct(data);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching product details:\",_context.t0);case 13:_context.prev=13;setLoading(false);return _context.finish(13);case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,10,13,16]]);}));return function fetchProductDetails(){return _ref.apply(this,arguments);};}();fetchProductDetails();},[productNum]);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(!product){return/*#__PURE__*/_jsx(\"div\",{children:\"\\uC0C1\\uD488\\uC744 \\uCC3E\\uC744 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"});}return/*#__PURE__*/_jsxs(\"div\",{className:styles.productDetail,children:[/*#__PURE__*/_jsx(\"h1\",{children:product.name}),/*#__PURE__*/_jsx(\"img\",{src:product.imageUrl,alt:product.name}),/*#__PURE__*/_jsx(\"p\",{children:product.description}),/*#__PURE__*/_jsxs(\"p\",{className:styles.price,children:[\"\\uAC00\\uACA9: \",/*#__PURE__*/_jsxs(\"span\",{children:[product.price,\" \\uC6D0\"]})]}),product.discount&&/*#__PURE__*/_jsxs(\"p\",{className:styles.discount,children:[\"\\uD560\\uC778 \\uAC00\\uACA9: \",/*#__PURE__*/_jsxs(\"span\",{children:[product.discountPrice,\" \\uC6D0\"]})]})]});};export default ProductDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","styles","ApiService","ProductDetail","productNum","product","setProduct","loading","setLoading","fetchProductDetails","fetchProductByNum","response","json","data","console","error","productDetail","name","imageUrl","description","price","discount","discountPrice"],"sources":["C:/OtpishiAI/src/components/product/products/productItem/ProductDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom'; // useParams 가져오기\r\nimport styles from './css/ProductDetail.module.css';\r\nimport ApiService from '../../../../ApiService';\r\n\r\nconst ProductDetail = () => {\r\n    const { productNum } = useParams(); // URL 파라미터에서 productNum 가져오기\r\n    const [product, setProduct] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const fetchProductDetails = async () => {\r\n            try {\r\n                const response = await ApiService.fetchProductByNum(productNum)\r\n                const data = await response.json();\r\n                setProduct(data);\r\n            } catch (error) {\r\n                console.error(\"Error fetching product details:\", error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchProductDetails();\r\n    }, [productNum]);\r\n\r\n    if (loading) {\r\n        return <div>Loading...</div>;\r\n    }\r\n\r\n    if (!product) {\r\n        return <div>상품을 찾을 수 없습니다.</div>;\r\n    }\r\n\r\n    return (\r\n        <div className={styles.productDetail}>\r\n            <h1>{product.name}</h1>\r\n            <img src={product.imageUrl} alt={product.name} />\r\n            <p>{product.description}</p>\r\n            <p className={styles.price}>\r\n                가격: <span>{product.price} 원</span>\r\n            </p>\r\n            {product.discount && (\r\n                <p className={styles.discount}>\r\n                    할인 가격: <span>{product.discountPrice} 원</span>\r\n                </p>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductDetail;\r\n"],"mappings":"sTAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,kBAA1B,CAA8C;AAC9C,MAAOC,OAAP,KAAmB,gCAAnB,CACA,MAAOC,WAAP,KAAuB,wBAAvB,C,wFAEA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,EAAM,CACxB,eAAuBH,SAAS,EAAhC,CAAQI,UAAR,YAAQA,UAAR,CAAoC;AACpC,cAA8BN,QAAQ,CAAC,IAAD,CAAtC,wCAAOO,OAAP,eAAgBC,UAAhB,eACA,eAA8BR,QAAQ,CAAC,IAAD,CAAtC,yCAAOS,OAAP,eAAgBC,UAAhB,eAEAT,SAAS,CAAC,UAAM,CACZ,GAAMU,oBAAmB,4FAAG,6LAEGP,WAAU,CAACQ,iBAAX,CAA6BN,UAA7B,CAFH,QAEdO,QAFc,qCAGDA,SAAQ,CAACC,IAAT,EAHC,QAGdC,IAHc,eAIpBP,UAAU,CAACO,IAAD,CAAV,CAJoB,iFAMpBC,OAAO,CAACC,KAAR,CAAc,iCAAd,cANoB,yBAQpBP,UAAU,CAAC,KAAD,CAAV,CARoB,sGAAH,kBAAnBC,oBAAmB,0CAAzB,CAYAA,mBAAmB,GACtB,CAdQ,CAcN,CAACL,UAAD,CAdM,CAAT,CAgBA,GAAIG,OAAJ,CAAa,CACT,mBAAO,mCAAP,CACH,CAED,GAAI,CAACF,OAAL,CAAc,CACV,mBAAO,yFAAP,CACH,CAED,mBACI,aAAK,SAAS,CAAEJ,MAAM,CAACe,aAAvB,wBACI,oBAAKX,OAAO,CAACY,IAAb,EADJ,cAEI,YAAK,GAAG,CAAEZ,OAAO,CAACa,QAAlB,CAA4B,GAAG,CAAEb,OAAO,CAACY,IAAzC,EAFJ,cAGI,mBAAIZ,OAAO,CAACc,WAAZ,EAHJ,cAII,WAAG,SAAS,CAAElB,MAAM,CAACmB,KAArB,yCACQ,wBAAOf,OAAO,CAACe,KAAf,aADR,GAJJ,CAOKf,OAAO,CAACgB,QAAR,eACG,WAAG,SAAS,CAAEpB,MAAM,CAACoB,QAArB,sDACW,wBAAOhB,OAAO,CAACiB,aAAf,aADX,GARR,GADJ,CAeH,CA5CD,CA8CA,cAAenB,cAAf"},"metadata":{},"sourceType":"module"}