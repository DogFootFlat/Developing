{"ast":null,"code":"import _slicedToArray from\"C:/OtpishiAI/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import SmartToyIcon from'@mui/icons-material/SmartToy';import IconButton from'@mui/material/IconButton';import{useState,useEffect}from'react';import CartProvider from'../../store/CartProvider';import Sidebar from'../basic/SideBar';import Header from'../layout/Header';import Cart from'./cart/Cart';import Products from'./products/Products';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProdList(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),cartIsShown=_useState2[0],setCartIsShown=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),sidebarIsVisible=_useState4[0],setSidebarIsVisible=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),htmlContent=_useState6[0],setHtmlContent=_useState6[1];// 외부 HTML 파일을 가져오기 위한 useEffect\nuseEffect(function(){if(sidebarIsVisible){fetch('/chatbot.html')// public 폴더 내 chatbot.html\n.then(function(response){return response.text();}).then(function(data){var parser=new DOMParser();var doc=parser.parseFromString(data,'text/html');// 1. <head>의 스타일 태그 및 링크 태그 추출\nvar headElements=doc.head.querySelectorAll('style, link[rel=\"stylesheet\"]');// 2. 추출한 스타일 요소들을 <head>에 추가\nheadElements.forEach(function(element){document.head.appendChild(element.cloneNode(true));});// 3. <body>의 콘텐츠만 추출\nvar bodyContent=doc.body.innerHTML;setHtmlContent(bodyContent);}).catch(function(error){return console.error('Failed to load chatbot.html:',error);});}// 사이드바가 열리면 body 스크롤 막기\nif(sidebarIsVisible){document.body.style.overflow='hidden';}else{document.body.style.overflow='auto';}// Cleanup 함수에서 사이드바가 닫힐 때 스크롤 복원\nreturn function(){document.body.style.overflow='auto';};},[sidebarIsVisible]);var showCartHandler=function showCartHandler(){setCartIsShown(true);};var hideCartHandler=function hideCartHandler(){setCartIsShown(false);};var toggleSidebar=function toggleSidebar(){setSidebarIsVisible(function(prev){return!prev;});};return/*#__PURE__*/_jsxs(CartProvider,{children:[cartIsShown&&/*#__PURE__*/_jsx(Cart,{onClose:hideCartHandler}),/*#__PURE__*/_jsx(Header,{onShowCart:showCartHandler}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(Products,{})}),/*#__PURE__*/_jsx(IconButton,{onClick:toggleSidebar,sx:{position:'fixed',right:'30px',bottom:'30px',width:'30px',height:'30px'},children:/*#__PURE__*/_jsx(SmartToyIcon,{color:\"primary\"})}),/*#__PURE__*/_jsx(Sidebar,{isVisible:sidebarIsVisible,content:/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:'100%',overflowY:'auto'},dangerouslySetInnerHTML:{__html:htmlContent}}),onClose:toggleSidebar})]});}export default ProdList;","map":{"version":3,"names":["SmartToyIcon","IconButton","useState","useEffect","CartProvider","Sidebar","Header","Cart","Products","ProdList","cartIsShown","setCartIsShown","sidebarIsVisible","setSidebarIsVisible","htmlContent","setHtmlContent","fetch","then","response","text","data","parser","DOMParser","doc","parseFromString","headElements","head","querySelectorAll","forEach","element","document","appendChild","cloneNode","bodyContent","body","innerHTML","catch","error","console","style","overflow","showCartHandler","hideCartHandler","toggleSidebar","prev","position","right","bottom","width","height","maxHeight","overflowY","__html"],"sources":["C:/OtpishiAI/src/components/product/ProdList.jsx"],"sourcesContent":["import SmartToyIcon from '@mui/icons-material/SmartToy';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport { useState, useEffect } from 'react';\r\nimport CartProvider from '../../store/CartProvider';\r\nimport Sidebar from '../basic/SideBar';\r\nimport Header from '../layout/Header';\r\nimport Cart from './cart/Cart';\r\nimport Products from './products/Products';\r\n\r\nfunction ProdList() {\r\n  const [cartIsShown, setCartIsShown] = useState(false);\r\n  const [sidebarIsVisible, setSidebarIsVisible] = useState(false);\r\n  const [htmlContent, setHtmlContent] = useState('');\r\n\r\n  // 외부 HTML 파일을 가져오기 위한 useEffect\r\n  useEffect(() => {\r\n    if (sidebarIsVisible) {\r\n      fetch('/chatbot.html')  // public 폴더 내 chatbot.html\r\n        .then(response => response.text())\r\n        .then(data => {\r\n          const parser = new DOMParser();\r\n          const doc = parser.parseFromString(data, 'text/html');\r\n\r\n          // 1. <head>의 스타일 태그 및 링크 태그 추출\r\n          const headElements = doc.head.querySelectorAll('style, link[rel=\"stylesheet\"]');\r\n          \r\n          // 2. 추출한 스타일 요소들을 <head>에 추가\r\n          headElements.forEach(element => {\r\n            document.head.appendChild(element.cloneNode(true));\r\n          });\r\n\r\n          // 3. <body>의 콘텐츠만 추출\r\n          const bodyContent = doc.body.innerHTML;\r\n          setHtmlContent(bodyContent);\r\n        })\r\n        .catch(error => console.error('Failed to load chatbot.html:', error));\r\n    }\r\n\r\n    // 사이드바가 열리면 body 스크롤 막기\r\n    if (sidebarIsVisible) {\r\n      document.body.style.overflow = 'hidden';\r\n    } else {\r\n      document.body.style.overflow = 'auto';\r\n    }\r\n\r\n    // Cleanup 함수에서 사이드바가 닫힐 때 스크롤 복원\r\n    return () => {\r\n      document.body.style.overflow = 'auto';\r\n    };\r\n  }, [sidebarIsVisible]);\r\n\r\n  const showCartHandler = () => {\r\n    setCartIsShown(true);\r\n  };\r\n  \r\n  const hideCartHandler = () => {\r\n    setCartIsShown(false);\r\n  };\r\n\r\n  const toggleSidebar = () => {\r\n    setSidebarIsVisible(prev => !prev);\r\n  };\r\n\r\n  return (\r\n    <CartProvider>\r\n      {cartIsShown && <Cart onClose={hideCartHandler} />}\r\n      <Header onShowCart={showCartHandler} />\r\n      <main>\r\n        <Products />\r\n      </main>\r\n\r\n      {/* 아이콘 버튼 */}\r\n      <IconButton\r\n        onClick={toggleSidebar}\r\n        sx={{\r\n          position: 'fixed',\r\n          right: '30px',\r\n          bottom: '30px',\r\n          width: '30px',\r\n          height: '30px'\r\n        }}\r\n      >\r\n        <SmartToyIcon color=\"primary\" />\r\n      </IconButton>\r\n\r\n      {/* 사이드바 모달 */}\r\n      <Sidebar \r\n        isVisible={sidebarIsVisible} \r\n        content={\r\n          <div \r\n            style={{ \r\n              maxHeight: '100%', \r\n              overflowY: 'auto' \r\n            }} \r\n            dangerouslySetInnerHTML={{ __html: htmlContent }} \r\n          />\r\n        } \r\n        onClose={toggleSidebar} \r\n      />\r\n    </CartProvider>\r\n  );\r\n}\r\n\r\nexport default ProdList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}