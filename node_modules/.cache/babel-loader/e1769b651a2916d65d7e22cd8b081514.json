{"ast":null,"code":"import{useContext}from'react';import{Link}from'react-router-dom';import CartContext from'../../../../store/cart-context';import ProductItemForm from'./ProductItemForm';import classes from'./css/ProductItem.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const ProductItem=props=>{const cartCtx=useContext(CartContext);const addToCartHandler=amount=>{cartCtx.addItem({id:props.id,name:props.name,amount:amount,price:props.rprice>0?props.rprice:props.oprice});};return/*#__PURE__*/_jsxs(\"li\",{className:classes.productCard,children:[/*#__PURE__*/_jsx(Link,{to:`/product/${props.num}`,className:classes.productLink,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.productContent,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.imageContainer,children:/*#__PURE__*/_jsx(\"img\",{src:props.img,alt:props.name,className:classes.productImage})}),/*#__PURE__*/_jsx(\"h3\",{className:classes.productName,children:props.name}),props.productInfo&&/*#__PURE__*/_jsx(\"div\",{className:classes.description,children:props.productInfo}),/*#__PURE__*/_jsx(\"div\",{className:classes.priceSection,children:props.rprice>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.originalPrice,children:[props.oprice.toLocaleString(),\" \\uC6D0\"]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.discountWrapper,children:[/*#__PURE__*/_jsxs(\"span\",{className:classes.discountPercentage,children:[Math.round((props.oprice-props.rprice)/props.oprice*100),\"%\"]}),/*#__PURE__*/_jsxs(\"span\",{className:classes.salePrice,children:[props.rprice.toLocaleString(),\" \\uC6D0\"]})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:classes.salePrice,children:[props.oprice.toLocaleString(),\" \\uC6D0\"]})})]})}),/*#__PURE__*/_jsx(ProductItemForm,{id:props.id,onAddToCart:addToCartHandler})]});};export default ProductItem;","map":{"version":3,"names":["useContext","Link","CartContext","ProductItemForm","classes","ProductItem","props","cartCtx","addToCartHandler","amount","addItem","id","name","price","rprice","oprice","productCard","num","productLink","productContent","imageContainer","img","productImage","productName","productInfo","description","priceSection","originalPrice","toLocaleString","discountWrapper","discountPercentage","Math","round","salePrice"],"sources":["C:/OtpishiAI/src/components/product/products/productItem/ProductItem.js"],"sourcesContent":["import { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport CartContext from '../../../../store/cart-context';\r\nimport ProductItemForm from './ProductItemForm';\r\nimport classes from './css/ProductItem.module.css';\r\n\r\nconst ProductItem = (props) => {\r\n\tconst cartCtx = useContext(CartContext);\r\n\r\n\tconst addToCartHandler = (amount) => {\r\n\t\tcartCtx.addItem({\r\n\t\t\tid: props.id,\r\n\t\t\tname: props.name,\r\n\t\t\tamount: amount,\r\n\t\t\tprice: props.rprice > 0 ? props.rprice : props.oprice,\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<li className={classes.productCard}>\r\n\t\t\t<Link to={`/product/${props.num}`} className={classes.productLink}>\r\n\t\t\t\t<div className={classes.productContent}>\r\n\t\t\t\t\t<div className={classes.imageContainer}>\r\n\t\t\t\t\t\t<img src={props.img} alt={props.name} className={classes.productImage} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<h3 className={classes.productName}>{props.name}</h3>\r\n\t\t\t\t\t{props.productInfo && <div className={classes.description}>{props.productInfo}</div>}\r\n\t\t\t\t\t<div className={classes.priceSection}>\r\n\t\t\t\t\t\t{props.rprice > 0 ? (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<div className={classes.originalPrice}>{props.oprice.toLocaleString()} 원</div>\r\n\t\t\t\t\t\t\t\t<div className={classes.discountWrapper}>\r\n\t\t\t\t\t\t\t\t\t<span className={classes.discountPercentage}>\r\n\t\t\t\t\t\t\t\t\t\t{Math.round(((props.oprice - props.rprice) / props.oprice) * 100)}%\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span className={classes.salePrice}>{props.rprice.toLocaleString()} 원</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className={classes.salePrice}>{props.oprice.toLocaleString()} 원</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Link>\r\n\t\t\t<ProductItemForm id={props.id} onAddToCart={addToCartHandler} />\r\n\t\t</li>\r\n\t);\r\n};\r\n\r\nexport default ProductItem;\r\n"],"mappings":"AAAA,OAASA,UAAT,KAA2B,OAA3B,CACA,OAASC,IAAT,KAAqB,kBAArB,CAEA,MAAOC,YAAP,KAAwB,gCAAxB,CACA,MAAOC,gBAAP,KAA4B,mBAA5B,CACA,MAAOC,QAAP,KAAoB,8BAApB,C,6IAEA,KAAMC,YAAW,CAAIC,KAAD,EAAW,CAC9B,KAAMC,QAAO,CAAGP,UAAU,CAACE,WAAD,CAA1B,CAEA,KAAMM,iBAAgB,CAAIC,MAAD,EAAY,CACpCF,OAAO,CAACG,OAAR,CAAgB,CACfC,EAAE,CAAEL,KAAK,CAACK,EADK,CAEfC,IAAI,CAAEN,KAAK,CAACM,IAFG,CAGfH,MAAM,CAAEA,MAHO,CAIfI,KAAK,CAAEP,KAAK,CAACQ,MAAN,CAAe,CAAf,CAAmBR,KAAK,CAACQ,MAAzB,CAAkCR,KAAK,CAACS,MAJhC,CAAhB,EAMA,CAPD,CASA,mBACC,YAAI,SAAS,CAAEX,OAAO,CAACY,WAAvB,wBACC,KAAC,IAAD,EAAM,EAAE,CAAG,YAAWV,KAAK,CAACW,GAAI,EAAhC,CAAmC,SAAS,CAAEb,OAAO,CAACc,WAAtD,uBACC,aAAK,SAAS,CAAEd,OAAO,CAACe,cAAxB,wBACC,YAAK,SAAS,CAAEf,OAAO,CAACgB,cAAxB,uBACC,YAAK,GAAG,CAAEd,KAAK,CAACe,GAAhB,CAAqB,GAAG,CAAEf,KAAK,CAACM,IAAhC,CAAsC,SAAS,CAAER,OAAO,CAACkB,YAAzD,EADD,EADD,cAIC,WAAI,SAAS,CAAElB,OAAO,CAACmB,WAAvB,UAAqCjB,KAAK,CAACM,IAA3C,EAJD,CAKEN,KAAK,CAACkB,WAAN,eAAqB,YAAK,SAAS,CAAEpB,OAAO,CAACqB,WAAxB,UAAsCnB,KAAK,CAACkB,WAA5C,EALvB,cAMC,YAAK,SAAS,CAAEpB,OAAO,CAACsB,YAAxB,UACEpB,KAAK,CAACQ,MAAN,CAAe,CAAf,cACA,wCACC,aAAK,SAAS,CAAEV,OAAO,CAACuB,aAAxB,WAAwCrB,KAAK,CAACS,MAAN,CAAaa,cAAb,EAAxC,aADD,cAEC,aAAK,SAAS,CAAExB,OAAO,CAACyB,eAAxB,wBACC,cAAM,SAAS,CAAEzB,OAAO,CAAC0B,kBAAzB,WACEC,IAAI,CAACC,KAAL,CAAY,CAAC1B,KAAK,CAACS,MAAN,CAAeT,KAAK,CAACQ,MAAtB,EAAgCR,KAAK,CAACS,MAAvC,CAAiD,GAA5D,CADF,OADD,cAIC,cAAM,SAAS,CAAEX,OAAO,CAAC6B,SAAzB,WAAqC3B,KAAK,CAACQ,MAAN,CAAac,cAAb,EAArC,aAJD,GAFD,GADA,cAWA,aAAK,SAAS,CAAExB,OAAO,CAAC6B,SAAxB,WAAoC3B,KAAK,CAACS,MAAN,CAAaa,cAAb,EAApC,aAZF,EAND,GADD,EADD,cAyBC,KAAC,eAAD,EAAiB,EAAE,CAAEtB,KAAK,CAACK,EAA3B,CAA+B,WAAW,CAAEH,gBAA5C,EAzBD,GADD,CA6BA,CAzCD,CA2CA,cAAeH,YAAf"},"metadata":{},"sourceType":"module"}