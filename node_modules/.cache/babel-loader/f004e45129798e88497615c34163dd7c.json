{"ast":null,"code":"import{useContext}from'react';import{Link}from'react-router-dom';import CartContext from'../../../../store/cart-context';import ProductItemForm from'./ProductItemForm';import classes from'./css/ProductItem.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductItem=function ProductItem(props){var cartCtx=useContext(CartContext);var addToCartHandler=function addToCartHandler(amount){cartCtx.addItem({id:props.id,name:props.name,amount:amount,price:props.rprice>0?props.rprice:props.oprice});};return/*#__PURE__*/_jsx(\"li\",{className:classes.productCard,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.productContent,children:[/*#__PURE__*/_jsx(Link,{to:\"/products/\".concat(props.id),className:classes.imageContainer,children:/*#__PURE__*/_jsx(\"img\",{src:props.img,alt:props.name,className:classes.productImage})}),/*#__PURE__*/_jsx(\"h3\",{className:classes.productName,children:props.name}),props.productInfo&&/*#__PURE__*/_jsx(\"div\",{className:classes.description,children:props.productInfo}),/*#__PURE__*/_jsx(\"div\",{className:classes.priceSection,children:props.rprice>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.originalPrice,children:[props.oprice.toLocaleString(),\" \\uC6D0\"]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.discountWrapper,children:[/*#__PURE__*/_jsxs(\"span\",{className:classes.discountPercentage,children:[Math.round((props.oprice-props.rprice)/props.oprice*100),\"%\"]}),/*#__PURE__*/_jsxs(\"span\",{className:classes.salePrice,children:[props.rprice.toLocaleString(),\" \\uC6D0\"]})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:classes.salePrice,children:[props.oprice.toLocaleString(),\" \\uC6D0\"]})}),/*#__PURE__*/_jsx(ProductItemForm,{id:props.id,onAddToCart:addToCartHandler})]})});};export default ProductItem;","map":{"version":3,"names":["useContext","Link","CartContext","ProductItemForm","classes","ProductItem","props","cartCtx","addToCartHandler","amount","addItem","id","name","price","rprice","oprice","productCard","productContent","imageContainer","img","productImage","productName","productInfo","description","priceSection","originalPrice","toLocaleString","discountWrapper","discountPercentage","Math","round","salePrice"],"sources":["C:/OtpishiAI/src/components/product/products/productItem/ProductItem.js"],"sourcesContent":["import { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport CartContext from '../../../../store/cart-context';\r\nimport ProductItemForm from './ProductItemForm';\r\nimport classes from './css/ProductItem.module.css';\r\n\r\nconst ProductItem = (props) => {\r\n\tconst cartCtx = useContext(CartContext);\r\n\r\n\tconst addToCartHandler = (amount) => {\r\n\t\tcartCtx.addItem({\r\n\t\t\tid: props.id,\r\n\t\t\tname: props.name,\r\n\t\t\tamount: amount,\r\n\t\t\tprice: props.rprice > 0 ? props.rprice : props.oprice,\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<li className={classes.productCard}>\r\n\t\t\t<div className={classes.productContent}>\r\n\t\t\t\t<Link to={`/products/${props.id}`} className={classes.imageContainer}>\r\n\t\t\t\t\t<img src={props.img} alt={props.name} className={classes.productImage} />\r\n\t\t\t\t</Link>\r\n\t\t\t\t<h3 className={classes.productName}>{props.name}</h3>\r\n\t\t\t\t{props.productInfo && <div className={classes.description}>{props.productInfo}</div>}\r\n\t\t\t\t<div className={classes.priceSection}>\r\n\t\t\t\t\t{props.rprice > 0 ? (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<div className={classes.originalPrice}>{props.oprice.toLocaleString()} 원</div>\r\n\t\t\t\t\t\t\t<div className={classes.discountWrapper}>\r\n\t\t\t\t\t\t\t\t<span className={classes.discountPercentage}>\r\n\t\t\t\t\t\t\t\t\t{Math.round(((props.oprice - props.rprice) / props.oprice) * 100)}%\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<span className={classes.salePrice}>{props.rprice.toLocaleString()} 원</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className={classes.salePrice}>{props.oprice.toLocaleString()} 원</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<ProductItemForm id={props.id} onAddToCart={addToCartHandler} />\r\n\t\t\t</div>\r\n\t\t</li>\r\n\t);\r\n};\r\n\r\nexport default ProductItem;\r\n"],"mappings":"AAAA,OAASA,UAAT,KAA2B,OAA3B,CACA,OAASC,IAAT,KAAqB,kBAArB,CAEA,MAAOC,YAAP,KAAwB,gCAAxB,CACA,MAAOC,gBAAP,KAA4B,mBAA5B,CACA,MAAOC,QAAP,KAAoB,8BAApB,C,6IAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,CAACC,KAAD,CAAW,CAC9B,GAAMC,QAAO,CAAGP,UAAU,CAACE,WAAD,CAA1B,CAEA,GAAMM,iBAAgB,CAAG,QAAnBA,iBAAmB,CAACC,MAAD,CAAY,CACpCF,OAAO,CAACG,OAAR,CAAgB,CACfC,EAAE,CAAEL,KAAK,CAACK,EADK,CAEfC,IAAI,CAAEN,KAAK,CAACM,IAFG,CAGfH,MAAM,CAAEA,MAHO,CAIfI,KAAK,CAAEP,KAAK,CAACQ,MAAN,CAAe,CAAf,CAAmBR,KAAK,CAACQ,MAAzB,CAAkCR,KAAK,CAACS,MAJhC,CAAhB,EAMA,CAPD,CASA,mBACC,WAAI,SAAS,CAAEX,OAAO,CAACY,WAAvB,uBACC,aAAK,SAAS,CAAEZ,OAAO,CAACa,cAAxB,wBACC,KAAC,IAAD,EAAM,EAAE,qBAAeX,KAAK,CAACK,EAArB,CAAR,CAAmC,SAAS,CAAEP,OAAO,CAACc,cAAtD,uBACC,YAAK,GAAG,CAAEZ,KAAK,CAACa,GAAhB,CAAqB,GAAG,CAAEb,KAAK,CAACM,IAAhC,CAAsC,SAAS,CAAER,OAAO,CAACgB,YAAzD,EADD,EADD,cAIC,WAAI,SAAS,CAAEhB,OAAO,CAACiB,WAAvB,UAAqCf,KAAK,CAACM,IAA3C,EAJD,CAKEN,KAAK,CAACgB,WAAN,eAAqB,YAAK,SAAS,CAAElB,OAAO,CAACmB,WAAxB,UAAsCjB,KAAK,CAACgB,WAA5C,EALvB,cAMC,YAAK,SAAS,CAAElB,OAAO,CAACoB,YAAxB,UACElB,KAAK,CAACQ,MAAN,CAAe,CAAf,cACA,wCACC,aAAK,SAAS,CAAEV,OAAO,CAACqB,aAAxB,WAAwCnB,KAAK,CAACS,MAAN,CAAaW,cAAb,EAAxC,aADD,cAEC,aAAK,SAAS,CAAEtB,OAAO,CAACuB,eAAxB,wBACC,cAAM,SAAS,CAAEvB,OAAO,CAACwB,kBAAzB,WACEC,IAAI,CAACC,KAAL,CAAY,CAACxB,KAAK,CAACS,MAAN,CAAeT,KAAK,CAACQ,MAAtB,EAAgCR,KAAK,CAACS,MAAvC,CAAiD,GAA5D,CADF,OADD,cAIC,cAAM,SAAS,CAAEX,OAAO,CAAC2B,SAAzB,WAAqCzB,KAAK,CAACQ,MAAN,CAAaY,cAAb,EAArC,aAJD,GAFD,GADA,cAWA,aAAK,SAAS,CAAEtB,OAAO,CAAC2B,SAAxB,WAAoCzB,KAAK,CAACS,MAAN,CAAaW,cAAb,EAApC,aAZF,EAND,cAqBC,KAAC,eAAD,EAAiB,EAAE,CAAEpB,KAAK,CAACK,EAA3B,CAA+B,WAAW,CAAEH,gBAA5C,EArBD,GADD,EADD,CA2BA,CAvCD,CAyCA,cAAeH,YAAf"},"metadata":{},"sourceType":"module"}