{"ast":null,"code":"import SmartToyIcon from'@mui/icons-material/SmartToy';import IconButton from'@mui/material/IconButton';import{useState,useEffect}from'react';import CartProvider from'../../store/CartProvider';import Sidebar from'../basic/SideBar';import Header from'../layout/Header';import Cart from'./cart/Cart';import Products from'./products/Products';import ProductsSummary from'./products/ProductsSummary';import classes from'./css/ProdList.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProdList(){const[cartIsShown,setCartIsShown]=useState(false);const[sidebarIsVisible,setSidebarIsVisible]=useState(false);const[htmlContent,setHtmlContent]=useState('');// 외부 HTML 파일을 가져오기 위한 useEffect\nuseEffect(()=>{if(sidebarIsVisible){fetch('/chatbot.html')// public 폴더 내 chatbot.html\n.then(response=>response.text()).then(data=>{const parser=new DOMParser();const doc=parser.parseFromString(data,'text/html');// 1. <head>의 스타일 태그 및 링크 태그 추출\nconst headElements=doc.head.querySelectorAll('style, link[rel=\"stylesheet\"]');// 2. 추출한 스타일 요소들을 <head>에 추가\nheadElements.forEach(element=>{document.head.appendChild(element.cloneNode(true));});// 3. <body>의 콘텐츠만 추출\nconst bodyContent=doc.body.innerHTML;setHtmlContent(bodyContent);// 4. <script> 태그 추출 및 실행\nconst scriptElements=doc.body.querySelectorAll('script');scriptElements.forEach(script=>{const newScript=document.createElement('script');if(script.src){newScript.src=script.src;// 외부 스크립트일 경우 src 복사\n}else{newScript.textContent=script.textContent;// 인라인 스크립트일 경우 내용 복사\n}document.body.appendChild(newScript);// 스크립트 실행\n});}).catch(error=>console.error('Failed to load chatbot.html:',error));}document.body.style.overflow=sidebarIsVisible?'hidden':'auto';// Cleanup 함수에서 사이드바가 닫힐 때 스크롤 복원\nreturn()=>{document.body.style.overflow='auto';// 사이드바가 닫힐 때 스크롤 복원\n};},[sidebarIsVisible]);const showCartHandler=()=>{setCartIsShown(true);};const hideCartHandler=()=>{setCartIsShown(false);};const toggleSidebar=()=>{setSidebarIsVisible(prev=>!prev);};return/*#__PURE__*/_jsxs(CartProvider,{children:[cartIsShown&&/*#__PURE__*/_jsx(Cart,{onClose:hideCartHandler}),/*#__PURE__*/_jsx(Header,{onShowCart:showCartHandler}),/*#__PURE__*/_jsx(\"main\",{className:classes.main,children:/*#__PURE__*/_jsx(Products,{})}),/*#__PURE__*/_jsx(IconButton,{onClick:toggleSidebar,sx:{position:'fixed',right:'30px',bottom:'30px',width:'30px',height:'30px'},children:/*#__PURE__*/_jsx(SmartToyIcon,{color:\"primary\"})}),/*#__PURE__*/_jsx(Sidebar,{isVisible:sidebarIsVisible,content:/*#__PURE__*/_jsx(\"div\",{className:classes['sidebar-content'],dangerouslySetInnerHTML:{__html:htmlContent}}),onClose:toggleSidebar})]});}export default ProdList;","map":{"version":3,"names":["SmartToyIcon","IconButton","useState","useEffect","CartProvider","Sidebar","Header","Cart","Products","ProductsSummary","classes","ProdList","cartIsShown","setCartIsShown","sidebarIsVisible","setSidebarIsVisible","htmlContent","setHtmlContent","fetch","then","response","text","data","parser","DOMParser","doc","parseFromString","headElements","head","querySelectorAll","forEach","element","document","appendChild","cloneNode","bodyContent","body","innerHTML","scriptElements","script","newScript","createElement","src","textContent","catch","error","console","style","overflow","showCartHandler","hideCartHandler","toggleSidebar","prev","main","position","right","bottom","width","height","__html"],"sources":["C:/OtpishiAI/src/components/product/ProdList.jsx"],"sourcesContent":["import SmartToyIcon from '@mui/icons-material/SmartToy';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport { useState, useEffect } from 'react';\r\nimport CartProvider from '../../store/CartProvider';\r\nimport Sidebar from '../basic/SideBar';\r\nimport Header from '../layout/Header';\r\nimport Cart from './cart/Cart';\r\nimport Products from './products/Products';\r\nimport ProductsSummary from './products/ProductsSummary';\r\nimport classes from './css/ProdList.module.css';\r\n\r\nfunction ProdList() {\r\n  const [cartIsShown, setCartIsShown] = useState(false);\r\n  const [sidebarIsVisible, setSidebarIsVisible] = useState(false);\r\n  const [htmlContent, setHtmlContent] = useState('');\r\n\r\n  // 외부 HTML 파일을 가져오기 위한 useEffect\r\n  useEffect(() => {\r\n    if (sidebarIsVisible) {\r\n      fetch('/chatbot.html')  // public 폴더 내 chatbot.html\r\n        .then(response => response.text())\r\n        .then(data => {\r\n          const parser = new DOMParser();\r\n          const doc = parser.parseFromString(data, 'text/html');\r\n\r\n          // 1. <head>의 스타일 태그 및 링크 태그 추출\r\n          const headElements = doc.head.querySelectorAll('style, link[rel=\"stylesheet\"]');\r\n\r\n          // 2. 추출한 스타일 요소들을 <head>에 추가\r\n          headElements.forEach(element => {\r\n            document.head.appendChild(element.cloneNode(true));\r\n          });\r\n\r\n          // 3. <body>의 콘텐츠만 추출\r\n          const bodyContent = doc.body.innerHTML;\r\n          setHtmlContent(bodyContent);\r\n\r\n          // 4. <script> 태그 추출 및 실행\r\n          const scriptElements = doc.body.querySelectorAll('script');\r\n          scriptElements.forEach((script) => {\r\n            const newScript = document.createElement('script');\r\n            if (script.src) {\r\n              newScript.src = script.src;  // 외부 스크립트일 경우 src 복사\r\n            } else {\r\n              newScript.textContent = script.textContent;  // 인라인 스크립트일 경우 내용 복사\r\n            }\r\n            document.body.appendChild(newScript);  // 스크립트 실행\r\n          });\r\n        })\r\n        .catch(error => console.error('Failed to load chatbot.html:', error));\r\n    }\r\n\r\n    document.body.style.overflow = sidebarIsVisible ? 'hidden' : 'auto';\r\n\r\n    // Cleanup 함수에서 사이드바가 닫힐 때 스크롤 복원\r\n    return () => {\r\n      document.body.style.overflow = 'auto';  // 사이드바가 닫힐 때 스크롤 복원\r\n    };\r\n  }, [sidebarIsVisible]);\r\n\r\n  const showCartHandler = () => {\r\n    setCartIsShown(true);\r\n  };\r\n\r\n  const hideCartHandler = () => {\r\n    setCartIsShown(false);\r\n  };\r\n\r\n  const toggleSidebar = () => {\r\n    setSidebarIsVisible(prev => !prev);\r\n  };\r\n\r\n  return (\r\n    <CartProvider>\r\n      {cartIsShown && <Cart onClose={hideCartHandler} />}\r\n      <Header onShowCart={showCartHandler} />\r\n      <main className={classes.main}>\r\n        <Products />\r\n      </main>\r\n\r\n      {/* 아이콘 버튼 */}\r\n      <IconButton\r\n        onClick={toggleSidebar}\r\n        sx={{\r\n          position: 'fixed',\r\n          right: '30px',\r\n          bottom: '30px',\r\n          width: '30px',\r\n          height: '30px'\r\n        }}\r\n      >\r\n        <SmartToyIcon color=\"primary\" />\r\n      </IconButton>\r\n\r\n      {/* 사이드바 모달 */}\r\n      <Sidebar\r\n        isVisible={sidebarIsVisible}\r\n        content={\r\n          <div className={classes['sidebar-content']} \r\n          dangerouslySetInnerHTML={{ __html: htmlContent }}>\r\n          </div>\r\n        }\r\n        onClose={toggleSidebar}\r\n      />\r\n    </CartProvider >\r\n  );\r\n}\r\n\r\nexport default ProdList;"],"mappings":"AAAA,MAAOA,aAAP,KAAyB,8BAAzB,CACA,MAAOC,WAAP,KAAuB,0BAAvB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,aAAP,KAAyB,0BAAzB,CACA,MAAOC,QAAP,KAAoB,kBAApB,CACA,MAAOC,OAAP,KAAmB,kBAAnB,CACA,MAAOC,KAAP,KAAiB,aAAjB,CACA,MAAOC,SAAP,KAAqB,qBAArB,CACA,MAAOC,gBAAP,KAA4B,4BAA5B,CACA,MAAOC,QAAP,KAAoB,2BAApB,C,wFAEA,QAASC,SAAT,EAAoB,CAClB,KAAM,CAACC,WAAD,CAAcC,cAAd,EAAgCX,QAAQ,CAAC,KAAD,CAA9C,CACA,KAAM,CAACY,gBAAD,CAAmBC,mBAAnB,EAA0Cb,QAAQ,CAAC,KAAD,CAAxD,CACA,KAAM,CAACc,WAAD,CAAcC,cAAd,EAAgCf,QAAQ,CAAC,EAAD,CAA9C,CAEA;AACAC,SAAS,CAAC,IAAM,CACd,GAAIW,gBAAJ,CAAsB,CACpBI,KAAK,CAAC,eAAD,CAAmB;AAAxB,CACGC,IADH,CACQC,QAAQ,EAAIA,QAAQ,CAACC,IAAT,EADpB,EAEGF,IAFH,CAEQG,IAAI,EAAI,CACZ,KAAMC,OAAM,CAAG,GAAIC,UAAJ,EAAf,CACA,KAAMC,IAAG,CAAGF,MAAM,CAACG,eAAP,CAAuBJ,IAAvB,CAA6B,WAA7B,CAAZ,CAEA;AACA,KAAMK,aAAY,CAAGF,GAAG,CAACG,IAAJ,CAASC,gBAAT,CAA0B,+BAA1B,CAArB,CAEA;AACAF,YAAY,CAACG,OAAb,CAAqBC,OAAO,EAAI,CAC9BC,QAAQ,CAACJ,IAAT,CAAcK,WAAd,CAA0BF,OAAO,CAACG,SAAR,CAAkB,IAAlB,CAA1B,EACD,CAFD,EAIA;AACA,KAAMC,YAAW,CAAGV,GAAG,CAACW,IAAJ,CAASC,SAA7B,CACApB,cAAc,CAACkB,WAAD,CAAd,CAEA;AACA,KAAMG,eAAc,CAAGb,GAAG,CAACW,IAAJ,CAASP,gBAAT,CAA0B,QAA1B,CAAvB,CACAS,cAAc,CAACR,OAAf,CAAwBS,MAAD,EAAY,CACjC,KAAMC,UAAS,CAAGR,QAAQ,CAACS,aAAT,CAAuB,QAAvB,CAAlB,CACA,GAAIF,MAAM,CAACG,GAAX,CAAgB,CACdF,SAAS,CAACE,GAAV,CAAgBH,MAAM,CAACG,GAAvB,CAA6B;AAC9B,CAFD,IAEO,CACLF,SAAS,CAACG,WAAV,CAAwBJ,MAAM,CAACI,WAA/B,CAA6C;AAC9C,CACDX,QAAQ,CAACI,IAAT,CAAcH,WAAd,CAA0BO,SAA1B,EAAuC;AACxC,CARD,EASD,CA7BH,EA8BGI,KA9BH,CA8BSC,KAAK,EAAIC,OAAO,CAACD,KAAR,CAAc,8BAAd,CAA8CA,KAA9C,CA9BlB,EA+BD,CAEDb,QAAQ,CAACI,IAAT,CAAcW,KAAd,CAAoBC,QAApB,CAA+BlC,gBAAgB,CAAG,QAAH,CAAc,MAA7D,CAEA;AACA,MAAO,IAAM,CACXkB,QAAQ,CAACI,IAAT,CAAcW,KAAd,CAAoBC,QAApB,CAA+B,MAA/B,CAAwC;AACzC,CAFD,CAGD,CAzCQ,CAyCN,CAAClC,gBAAD,CAzCM,CAAT,CA2CA,KAAMmC,gBAAe,CAAG,IAAM,CAC5BpC,cAAc,CAAC,IAAD,CAAd,CACD,CAFD,CAIA,KAAMqC,gBAAe,CAAG,IAAM,CAC5BrC,cAAc,CAAC,KAAD,CAAd,CACD,CAFD,CAIA,KAAMsC,cAAa,CAAG,IAAM,CAC1BpC,mBAAmB,CAACqC,IAAI,EAAI,CAACA,IAAV,CAAnB,CACD,CAFD,CAIA,mBACE,MAAC,YAAD,YACGxC,WAAW,eAAI,KAAC,IAAD,EAAM,OAAO,CAAEsC,eAAf,EADlB,cAEE,KAAC,MAAD,EAAQ,UAAU,CAAED,eAApB,EAFF,cAGE,aAAM,SAAS,CAAEvC,OAAO,CAAC2C,IAAzB,uBACE,KAAC,QAAD,IADF,EAHF,cAQE,KAAC,UAAD,EACE,OAAO,CAAEF,aADX,CAEE,EAAE,CAAE,CACFG,QAAQ,CAAE,OADR,CAEFC,KAAK,CAAE,MAFL,CAGFC,MAAM,CAAE,MAHN,CAIFC,KAAK,CAAE,MAJL,CAKFC,MAAM,CAAE,MALN,CAFN,uBAUE,KAAC,YAAD,EAAc,KAAK,CAAC,SAApB,EAVF,EARF,cAsBE,KAAC,OAAD,EACE,SAAS,CAAE5C,gBADb,CAEE,OAAO,cACL,YAAK,SAAS,CAAEJ,OAAO,CAAC,iBAAD,CAAvB,CACA,uBAAuB,CAAE,CAAEiD,MAAM,CAAE3C,WAAV,CADzB,EAHJ,CAOE,OAAO,CAAEmC,aAPX,EAtBF,GADF,CAkCD,CAED,cAAexC,SAAf"},"metadata":{},"sourceType":"module"}