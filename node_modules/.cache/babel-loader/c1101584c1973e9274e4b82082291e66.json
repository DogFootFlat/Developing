{"ast":null,"code":"var _jsxFileName = \"C:\\\\OtpishiAI\\\\src\\\\components\\\\home\\\\Home.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport ApiService from '../../ApiService'; // ApiService 경로에 맞게 조정\n\nimport classes from './css/home.module.css'; // CSS 모듈 임포트\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const [featuredProducts, setFeaturedProducts] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const fetchProductsHandler = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      var _response$data;\n\n      const response = await ApiService.fetchProducts(); // queryString 없이 fetch\n\n      if (response.status < 200 || response.status >= 300) {\n        throw new Error('Something went wrong!');\n      }\n\n      const data = ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.content) || [];\n      let sortedProducts = []; // judge가 높은 상품을 찾기\n\n      const judgeProducts = data.filter(product => product.judge !== \"NULL\");\n\n      if (judgeProducts.length > 0) {\n        sortedProducts = judgeProducts.sort((a, b) => b.judge - a.judge) // judge 기준 내림차순 정렬\n        .slice(0, 3); // 상위 3개 상품만 선택\n      } else {\n        // judge가 NULL인 상품을 맨 앞 3개로 선택\n        sortedProducts = data.slice(0, 3);\n      }\n\n      setFeaturedProducts(sortedProducts);\n    } catch (err) {\n      setError(err.message || 'Failed to fetch products');\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n  useEffect(() => {\n    fetchProductsHandler();\n  }, [fetchProductsHandler]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.homeContainer,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.login,\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: './sign-in',\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"\\uB85C\\uADF8\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: './sign-up',\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"\\uD68C\\uC6D0\\uAC00\\uC785\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.banner,\n      children: [isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uB85C\\uB529 \\uC911...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 31\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 27\n      }, this), !isLoading && !error && featuredProducts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.featuredProducts,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uCD94\\uCC9C \\uC0C1\\uD488\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.productList,\n          children: featuredProducts.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.productItem,\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: `/products/${product.productCode}`,\n              className: classes.imageContainer,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: product.productImg[0],\n                alt: product.productName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: product.productName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 37\n            }, this), product.rprice > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.originalPrice,\n                children: [product.oprice.toLocaleString(), \" \\uC6D0\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.discountWrapper,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: classes.discountPercentage,\n                  children: [Math.round((product.oprice - product.rprice) / product.oprice * 100), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: classes.salePrice,\n                  children: [product.rprice.toLocaleString(), \" \\uC6D0\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.salePrice,\n              children: [product.oprice.toLocaleString(), \" \\uC6D0\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 41\n            }, this)]\n          }, product.productCode, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Home, \"ug7ODu8YnJfL+VJwb1XvEYvJjy4=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","Link","ApiService","classes","Home","featuredProducts","setFeaturedProducts","isLoading","setIsLoading","error","setError","fetchProductsHandler","response","fetchProducts","status","Error","data","content","sortedProducts","judgeProducts","filter","product","judge","length","sort","a","b","slice","err","message","homeContainer","login","banner","productList","map","productItem","productCode","imageContainer","productImg","productName","rprice","originalPrice","oprice","toLocaleString","discountWrapper","discountPercentage","Math","round","salePrice"],"sources":["C:/OtpishiAI/src/components/home/Home.jsx"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ApiService from '../../ApiService'; // ApiService 경로에 맞게 조정\r\nimport classes from './css/home.module.css'; // CSS 모듈 임포트\r\n\r\nconst Home = () => {\r\n    const [featuredProducts, setFeaturedProducts] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n\r\n    const fetchProductsHandler = useCallback(async () => {\r\n        setIsLoading(true);\r\n        setError(null);\r\n        try {\r\n            const response = await ApiService.fetchProducts(); // queryString 없이 fetch\r\n            if (response.status < 200 || response.status >= 300) {\r\n                throw new Error('Something went wrong!');\r\n            }\r\n            const data = response.data?.content || [];\r\n\r\n            let sortedProducts = [];\r\n\r\n            // judge가 높은 상품을 찾기\r\n            const judgeProducts = data.filter(product => product.judge !== \"NULL\");\r\n\r\n            if (judgeProducts.length > 0) {\r\n                sortedProducts = judgeProducts\r\n                    .sort((a, b) => b.judge - a.judge) // judge 기준 내림차순 정렬\r\n                    .slice(0, 3); // 상위 3개 상품만 선택\r\n            } else {\r\n                // judge가 NULL인 상품을 맨 앞 3개로 선택\r\n                sortedProducts = data.slice(0, 3);\r\n            }\r\n\r\n            setFeaturedProducts(sortedProducts);\r\n        } catch (err) {\r\n            setError(err.message || 'Failed to fetch products');\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        fetchProductsHandler();\r\n    }, [fetchProductsHandler]);\r\n\r\n    return (\r\n        <div className={classes.homeContainer}>\r\n            <div className={classes.login}>\r\n                <Link to={'./sign-in'}>\r\n                    <button>로그인</button>\r\n                </Link>\r\n                <Link to={'./sign-up'}>\r\n                    <button>회원가입</button>\r\n                </Link>\r\n            </div>\r\n\r\n            {/* 배너 섹션 */}\r\n            <div className={classes.banner}>\r\n                {isLoading && <p>로딩 중...</p>}\r\n                {error && <p>{error}</p>}\r\n                {!isLoading && !error && featuredProducts.length > 0 && (\r\n                    <div className={classes.featuredProducts}>\r\n                        <h2>추천 상품</h2>\r\n                        <div className={classes.productList}>\r\n                            {featuredProducts.map(product => (\r\n                                <div key={product.productCode} className={classes.productItem}>\r\n                                    <Link to={`/products/${product.productCode}`} className={classes.imageContainer}>\r\n                                        <img src={product.productImg[0]} alt={product.productName} />\r\n                                    </Link>\r\n                                    <div>{product.productName}</div>\r\n                                    {product.rprice > 0 ? (\r\n                                        <>\r\n                                            <div className={classes.originalPrice}>\r\n                                                {product.oprice.toLocaleString()} 원\r\n                                            </div>\r\n                                            <div className={classes.discountWrapper}>\r\n                                                <span className={classes.discountPercentage}>\r\n                                                    {Math.round(((product.oprice - product.rprice) / product.oprice) * 100)}%\r\n                                                </span>\r\n                                                <span className={classes.salePrice}>{product.rprice.toLocaleString()} 원</span>\r\n                                            </div>\r\n                                        </>\r\n                                    ) : (\r\n                                        <div className={classes.salePrice}>{product.oprice.toLocaleString()} 원</div>\r\n                                    )}\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}