{"ast":null,"code":"// Format function modified from nodejs\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n0 && (module.exports = {\n  formatUrl: null,\n  formatWithValidation: null,\n  urlObjectKeys: null\n});\n\nfunction _export(target, all) {\n  for (var name in all) Object.defineProperty(target, name, {\n    enumerable: true,\n    get: all[name]\n  });\n}\n\n_export(exports, {\n  formatUrl: function () {\n    return formatUrl;\n  },\n  formatWithValidation: function () {\n    return formatWithValidation;\n  },\n  urlObjectKeys: function () {\n    return urlObjectKeys;\n  }\n});\n\nconst _interop_require_wildcard = require(\"@swc/helpers/_/_interop_require_wildcard\");\n\nconst _querystring = /*#__PURE__*/_interop_require_wildcard._(require(\"./querystring\"));\n\nconst slashedProtocols = /https?|ftp|gopher|file/;\n\nfunction formatUrl(urlObj) {\n  let {\n    auth,\n    hostname\n  } = urlObj;\n  let protocol = urlObj.protocol || '';\n  let pathname = urlObj.pathname || '';\n  let hash = urlObj.hash || '';\n  let query = urlObj.query || '';\n  let host = false;\n  auth = auth ? encodeURIComponent(auth).replace(/%3A/i, ':') + '@' : '';\n\n  if (urlObj.host) {\n    host = auth + urlObj.host;\n  } else if (hostname) {\n    host = auth + (~hostname.indexOf(':') ? \"[\" + hostname + \"]\" : hostname);\n\n    if (urlObj.port) {\n      host += ':' + urlObj.port;\n    }\n  }\n\n  if (query && typeof query === 'object') {\n    query = String(_querystring.urlQueryToSearchParams(query));\n  }\n\n  let search = urlObj.search || query && \"?\" + query || '';\n  if (protocol && !protocol.endsWith(':')) protocol += ':';\n\n  if (urlObj.slashes || (!protocol || slashedProtocols.test(protocol)) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname[0] !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash[0] !== '#') hash = '#' + hash;\n  if (search && search[0] !== '?') search = '?' + search;\n  pathname = pathname.replace(/[?#]/g, encodeURIComponent);\n  search = search.replace('#', '%23');\n  return \"\" + protocol + host + pathname + search + hash;\n}\n\nconst urlObjectKeys = ['auth', 'hash', 'host', 'hostname', 'href', 'path', 'pathname', 'port', 'protocol', 'query', 'search', 'slashes'];\n\nfunction formatWithValidation(url) {\n  if (process.env.NODE_ENV === 'development') {\n    if (url !== null && typeof url === 'object') {\n      Object.keys(url).forEach(key => {\n        if (!urlObjectKeys.includes(key)) {\n          console.warn(\"Unknown key passed via urlObject into url.format: \" + key);\n        }\n      });\n    }\n  }\n\n  return formatUrl(url);\n}","map":{"version":3,"mappings":"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","names":["formatUrl","formatWithValidation","urlObjectKeys","slashedProtocols","urlObj","auth","hostname","protocol","pathname","hash","query","host","encodeURIComponent","replace","indexOf","port","String","querystring","urlQueryToSearchParams","search","endsWith","slashes","test","url","process","env","NODE_ENV","Object","keys","forEach","key","includes","console","warn"],"sources":["C:\\OtpishiAI\\node_modules\\next\\src\\shared\\lib\\router\\utils\\format-url.ts"],"sourcesContent":["// Format function modified from nodejs\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nimport type { UrlObject } from 'url'\nimport type { ParsedUrlQuery } from 'querystring'\nimport * as querystring from './querystring'\n\nconst slashedProtocols = /https?|ftp|gopher|file/\n\nexport function formatUrl(urlObj: UrlObject) {\n  let { auth, hostname } = urlObj\n  let protocol = urlObj.protocol || ''\n  let pathname = urlObj.pathname || ''\n  let hash = urlObj.hash || ''\n  let query = urlObj.query || ''\n  let host: string | false = false\n\n  auth = auth ? encodeURIComponent(auth).replace(/%3A/i, ':') + '@' : ''\n\n  if (urlObj.host) {\n    host = auth + urlObj.host\n  } else if (hostname) {\n    host = auth + (~hostname.indexOf(':') ? `[${hostname}]` : hostname)\n    if (urlObj.port) {\n      host += ':' + urlObj.port\n    }\n  }\n\n  if (query && typeof query === 'object') {\n    query = String(querystring.urlQueryToSearchParams(query as ParsedUrlQuery))\n  }\n\n  let search = urlObj.search || (query && `?${query}`) || ''\n\n  if (protocol && !protocol.endsWith(':')) protocol += ':'\n\n  if (\n    urlObj.slashes ||\n    ((!protocol || slashedProtocols.test(protocol)) && host !== false)\n  ) {\n    host = '//' + (host || '')\n    if (pathname && pathname[0] !== '/') pathname = '/' + pathname\n  } else if (!host) {\n    host = ''\n  }\n\n  if (hash && hash[0] !== '#') hash = '#' + hash\n  if (search && search[0] !== '?') search = '?' + search\n\n  pathname = pathname.replace(/[?#]/g, encodeURIComponent)\n  search = search.replace('#', '%23')\n\n  return `${protocol}${host}${pathname}${search}${hash}`\n}\n\nexport const urlObjectKeys = [\n  'auth',\n  'hash',\n  'host',\n  'hostname',\n  'href',\n  'path',\n  'pathname',\n  'port',\n  'protocol',\n  'query',\n  'search',\n  'slashes',\n]\n\nexport function formatWithValidation(url: UrlObject): string {\n  if (process.env.NODE_ENV === 'development') {\n    if (url !== null && typeof url === 'object') {\n      Object.keys(url).forEach((key) => {\n        if (!urlObjectKeys.includes(key)) {\n          console.warn(\n            `Unknown key passed via urlObject into url.format: ${key}`\n          )\n        }\n      })\n    }\n  }\n\n  return formatUrl(url)\n}\n"]},"metadata":{},"sourceType":"script"}